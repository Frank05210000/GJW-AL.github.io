"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[32201,33026,65744,21770,19349],{54869:function(e,t,o){o.d(t,{V:function(){return v}});var n=o(37253),a=o(29154),s=o(87066),i=o(41285),l=o(88544),d=o(6703);const r="https://ads-s3-public.ganjingworld.dev/assets/ugc/_5duoYUc1o9oOGa1N7MHyPQw/tags.json",c="https://g-static.ganjingworld.com/assets/ugc/_OF1pmWz0L07ks7areFEXFDA/tags.json",u="https://ads-s3-public.ganjingworld.dev/assets/ugc/_5duoYUc1o9oOGa1N7MHyPQw/tags_v2.json",f="https://g-static.ganjingworld.com/assets/ugc/_OF1pmWz0L07ks7areFEXFDA/tags_v2.json",v={invertedTagMap:new n.A("invertedTagMap",(async()=>w(a.ns.isGgInProd?c:r))),tagIdToLineageMap:new n.A("tagIdToLineageMap",(async()=>w(a.ns.isGgInProd?f:u)))},m=async function(e,t){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET";const n=!0,a=new URL(e);return n?(0,i.$z)({basePath:a.origin,version:"",api:a.pathname,args:t,method:o,fallback:async()=>await(0,l.Cx)({axios:s.Z,method:o,apiURL:e,inputData:t})}):(0,l.Cx)({axios:s.Z,method:o,apiURL:e,inputData:t})},w=async function(e,t){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET";const n=d.M4.buildCacheKey(e,t);return await d.M4.getAsync(n,(async()=>m(e,t,o)))}},45822:function(e,t,o){o.d(t,{K_:function(){return h},Wt:function(){return b},su:function(){return y},un:function(){return p},wr:function(){return w}});var n=o(26042),a=o(85893),s=o(23114),i=o(83636),l=o(22604),d=o(33026),r=o(65744),c=o(21770),u=o(19349),f=o(29154),v=o(11163),m=o.n(v);const w=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return{0:e("followTopic.topicNoneToast"),1:e("followTopic.topicModerateToast"),2:e("channel.text.allToast"),3:e("channel.text.unfollowed",{val0:t}),4:e("channel.text.followed",{val0:t})}},g={0:c.default,1:r.default,2:d.default,3:u.default,4:l.default},h=e=>{let{code:t,t:o,type:n="NT_INFO",val0:a=""}=e;const s=w(o,a)[t];i.dialogHandler.showToast({text:s,type:n,gotItText:" ",displayTime:5e3})},p=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text-[#001D38] dark:text-white";const o=g[e];return o?(0,a.jsx)(o,{className:(0,s.Z)("w-4 h-4",t)}):null},b=e=>{let{code:t,t:o,type:n="NT_INFO",val0:a=""}=e;const s=w(o,a)[t],l=window.innerWidth<=f.h1?"!bottom-[7rem]":"";i.dialogHandler.showToast({text:s,type:n,topClassName:l,displayTime:5e3})},y=e=>{let{code:t,t:o,val0:a="",gotItText:s=" ",gotItLink:l}=e;const d=o("like"===t?"channel.text.followed":"channel.text.unfollowed",{val0:a}),r=window.innerWidth<=f.f6?"!bottom-[8rem]":"";i.dialogHandler.showToast((0,n.Z)({text:d,type:"NT_INFO",topClassName:r,displayTime:1e4,gotItText:s},l&&{clickToastAction:()=>m().push(l)}))}},73210:function(e,t,o){o.d(t,{$S:function(){return u},Zh:function(){return m},oe:function(){return v}});var n=o(76658),a=o(13290),s=o(98509),i=o(11163),l=o(67294),d=o(20061),r=o(27503);const c="pl_notice",u=()=>n.V?new Date("2025-08-05T21:05:00Z").getTime():new Date("2025-08-11T02:30:00Z").getTime(),f=()=>{var e;let t=null===(e=(0,a.EN)())||void 0===e?void 0:e.getItem(c);if(!t)return null;try{t=JSON.parse(t)}catch(o){}return t},v=()=>Date.now()>u(),m=()=>{var e;const t=(0,d.s)((e=>e.account.user)),o=(0,d.s)((e=>e.system.hideNotice)),u=(0,s.Z)(),{pathname:m,asPath:w}=(0,i.useRouter)(),g=(0,l.useRef)(),h=null===(e=(0,a.ie)())||void 0===e?void 0:e.gjw;(0,l.useEffect)((()=>{var e;if(!o&&h&&(e=>["/","/video/[...ids]"].includes(e))(m)&&!v()&&(null===t||void 0===t||null===(e=t.passbooks)||void 0===e?void 0:e.length)&&(null===t||void 0===t?void 0:t.email)&&u)return(()=>{const e=f();if(!e)return!0;const t=n.V?3e5:1296e6;return!!((null===e||void 0===e?void 0:e.count)&&e.count<2&&(null===e||void 0===e?void 0:e.ts)&&Date.now()-e.ts>t)})()&&(clearTimeout(g.current),g.current=setTimeout((()=>{(0,r.jI)({initStep:"NOTICE",email:u}),(()=>{const e=f();var t;if(e){if(null===e||void 0===e?void 0:e.count){var o;null===(o=(0,a.EN)())||void 0===o||o.setItem(c,JSON.stringify({count:e.count+1,ts:Date.now()}))}}else null===(t=(0,a.EN)())||void 0===t||t.setItem(c,JSON.stringify({count:1,ts:Date.now()}))})()}),15e3)),()=>{clearTimeout(g.current)}}),[t,m,u,w,o])}},33026:function(e,t,o){o.r(t);var n=o(85893),a=o(67294),s=o(23114),i=o(5152);const l=o.n(i)()((()=>o.e(77997).then(o.bind(o,77997)).then((e=>e.default))),{loadableGenerated:{webpack:()=>[77997]}}),d=e=>{let{className:t}=e;return(0,n.jsx)(l,{className:(0,s.Z)("svgIcon",t)})};t.default=(0,a.memo)(d)},65744:function(e,t,o){o.r(t);var n=o(85893),a=o(67294),s=o(23114),i=o(5152);const l=o.n(i)()((()=>o.e(57839).then(o.bind(o,57839)).then((e=>e.default))),{loadableGenerated:{webpack:()=>[57839]}}),d=e=>{let{className:t}=e;return(0,n.jsx)(l,{className:(0,s.Z)("svgIcon",t)})};t.default=(0,a.memo)(d)},21770:function(e,t,o){o.r(t);var n=o(85893),a=o(67294),s=o(23114),i=o(5152);const l=o.n(i)()((()=>o.e(56967).then(o.bind(o,56967)).then((e=>e.default))),{loadableGenerated:{webpack:()=>[56967]}}),d=e=>{let{className:t}=e;return(0,n.jsx)(l,{className:(0,s.Z)("svgIcon",t)})};t.default=(0,a.memo)(d)},19349:function(e,t,o){o.r(t);var n=o(85893),a=o(67294),s=o(23114),i=o(5152);const l=o.n(i)()((()=>o.e(62029).then(o.bind(o,62029)).then((e=>e.default))),{loadableGenerated:{webpack:()=>[62029]}}),d=e=>{let{className:t}=e;return(0,n.jsx)(l,{className:(0,s.Z)("svgIcon",t)})};t.default=(0,a.memo)(d)},32201:function(e,t,o){o.r(t),o.d(t,{default:function(){return K}});var n=o(26042),a=o(11163),s=o.n(a),i=o(67294),l=o(85518),d=o(59820),r=o(29154),c=o(54869),u=o(89820);var f=o(83636),v=o(92075),m=o(66564),w=o(88544),g=o(17747),h=o(6811),p=o(84536),b=o(13290),y=o(12839),_=o(65342),T=o(4748),S=o(66438),E=o(20061),x=o(69829),N=o(25137);var L=o(7997);var Z=o(278),I=o(92927),k=o(53780),C=o(42527),P=o(94073),M=o(365),j=o(90634),O=o(51769),U=o(45822);var D=o(12929),A=o(73210),F=o(27503),G=o(66304),R=o(78764),H=o(5152),V=o.n(H),z=o(74231);const q=V()((async()=>(await o.e(25412).then(o.bind(o,25412))).default),{loadableGenerated:{webpack:()=>[25412]},ssr:!1}),W=()=>{s().push((0,u.de)(window.location.href),void 0,{shallow:!0})};const X=()=>{const e=(0,S.xJ)(),t=async()=>{const t=new URLSearchParams(window.location.search).get("autoemail");if(!t)return;const o=z.Z_().email().isValidSync(t);if(e.user_id||!o)return;const{type:n,errorMsg:a}=await(0,m.hC)({identifier:t,type:"email",context:"sign",t:G.t});var s;"SignIn"!==n&&("SignUp"===n&&((0,R.sendTracking_SignOn)({mixEventName:R.SIGN_ON_MIX_EVENT.ColdEmailPopupViewed,bpdEventName:R.SIGN_ON_BDP_EVENT.ColdEmailPopupViewed,data:{context2:R.SUBSCRIPTION_CONTEXT.ColdEmail}}),s={email:t},f.dialogHandler.showCustomDialog({dialogId:"ContinueColdSignUpPopup",Component:q,dialogSettings:{paperClass:"w-full b480:max-w-[450px] new-signin",onCloseDialog:W},props:s})),a&&console.error(a))};(0,i.useEffect)((()=>{t()}),[])};var J=o(58745);var K=()=>{var e;const t=(0,S.xJ)(),o=(0,S.jY)();(0,P.uZ)(),function(){const{asPath:e}=(0,a.useRouter)(),t=(0,S.bd)(),o=(0,x.ZP)(),s=(0,E.s)((e=>e.system.isMobileLandscape)),l=(0,i.useMemo)((()=>{for(const t of r.fh)if(e.match(new RegExp("/tag/.+/".concat(t))))return!0;for(const t of r.rT)if(0===e.indexOf(t)||(0,u.yX)(e))return!0;return!1}),[e]);(0,i.useEffect)((()=>{const e=document.documentElement;e&&(E.s.setState((e=>(e.system.notAllowTheme=l,(0,n.Z)({},e)))),l?(e.classList.remove("dark"),document.body.style.backgroundColor=""):N.IS_SUPPORT_PrefersColorScheme&&e.classList.add("dark"))}),[l,t,e,o,s])}(),(0,_.MW)(),function(){const{asPath:e}=(0,a.useRouter)(),t=(0,i.useMemo)((()=>{let t=!1;for(const o of r.eQ)if(-1!==e.indexOf(o)){t=!0;break}return t}),[e]);(0,i.useEffect)((()=>{const e=document.querySelector("html");e&&(t?(e.classList.add("dark"),document.body.style.backgroundColor="",(0,L.z1)("dark")):"dark"!==(0,b.pe)()&&(e.classList.remove("dark"),(0,L.z1)("normal")))}))}(),(()=>{const{t:e}=(0,O.$G)(),t=(0,S.xJ)(),{0:o,1:n}=(0,i.useState)(!1),a=(0,E.s)((e=>e.account.continueFollowChannel)),{isFollowing:s,channel:l}=a||{},d=(0,E.s)((e=>e.following.followedChannelLoaded&&e.following.isSignedUser)),c=(0,E.s)((e=>(null===l||void 0===l?void 0:l.id)?!!e.following.followedChannels[l.id]:void 0));(0,i.useEffect)((()=>{(async()=>{if(!o&&s&&t.user_id&&l&&d&&!c)return n(!0),f.dialogHandler.showLoading(),(0,j.jY)(l).then((async t=>{let{isSuccess:o,errorMsg:n}=t;o?(0,U.K_)({code:r.P8.Followed,t:e,val0:null===l||void 0===l?void 0:l.name}):f.dialogHandler.showToast({text:null===n||void 0===n?void 0:n.toString(),type:"NT_ERROR"})})),!0})().then((e=>{void 0!==e&&(f.dialogHandler.closeLoading(),(0,I.xh)())}))}),[s,t.user_id,d,c])})(),function(){const{asPath:e}=(0,a.useRouter)(),t=(0,i.useMemo)((()=>{let t=!1;for(const o of r.I7)if(e.match(o)){t=!0;break}return t}),[e]);(0,i.useEffect)((()=>{t&&c.V.tagIdToLineageMap.startLoading()}),[t,e]),(0,u.qu)("useEnableTagAssetLoading",{asPath:e,doLoadTagAsset:t})}(),(0,A.Zh)(),X(),(0,J.SS)();const s=(0,x.ZP)(),{asPath:G,pathname:R}=(0,a.useRouter)(),{locale:H,setLocale:V}=(0,Z.N)(),{0:z,1:q}=(0,i.useState)(),W=(0,i.useMemo)(y.z,[]),K=(0,E.s)((e=>{var t;return null===(t=e.account.thirdPartyLogin)||void 0===t?void 0:t.auth_method})),Y=(0,E.s)((e=>e.system.isMobileLandscape)),Q=null===(e=(0,b.ie)())||void 0===e?void 0:e.gjw;return(0,i.useEffect)((()=>{(0,L.L5)(E.s.getState().system.browserWidth),(0,T.om)(),W||(async()=>{let e;const o=await(0,b.qZ)();o&&(e=(0,b.KU)(o),q(e),(null===e||void 0===e?void 0:e.uid)&&e.expired)?(0,g.S4)():t.user_id||(null===e||void 0===e?void 0:e.uid)&&!e.expired||(0,L.zC)()})()}),[]),(0,d.ZP)("FetchLoginUserData-".concat(t.user_id,"-").concat(H),(async()=>{t.user_id&&!W&&((0,I.pZ)(H),(0,I.VQ)(H),(0,k.ng)(),(0,k.ax)(),(0,I.CZ)(),(0,I.qL)(),(0,I.nM)().then((()=>(0,I.i)(void 0,H))))})),(0,i.useEffect)((()=>{f.dialogHandler.closeAllDialog(),(0,p.Xz)("all",!1,!0)}),[G]),(0,i.useEffect)((()=>{t.user_id&&(async()=>{var e;const o=await(0,D.ae)();null===o.errorMsg&&205007===(null===(e=o.result)||void 0===e?void 0:e.result_code)&&(0,L.E2)({locale:H,urlAfter:window.location.pathname});try{const e=o.data;if(e){var n;if((0,u.qu)("updateFullUserProfileZustand","system useEffect",{asPath:G,userProfile:e}),(0,I.X6)(e),Q&&!e.email&&(e.passbooks&&e.passbooks.length>0||t.passbooks&&t.passbooks.length>0)){if(!(0,A.oe)())return(0,F.jI)();(0,L.E2)({locale:H,urlAfter:window.location.pathname})}if("facebook"===K&&!(null===(n=e.settings)||void 0===n?void 0:n.hasPassword))(0,F.so)({fbEmail:e.email})}}catch(a){}})()}),[K]),(0,M.Z)((()=>{((null===navigator||void 0===navigator?void 0:navigator.userAgent.indexOf("Firefox"))>-1||s||l.Q5)&&(document.documentElement.classList.remove("sy-scrollbar"),(0,L.DD)((e=>e.isCustomScrollBar=!1))),l.gn?document.body.classList.add("IOS"):document.body.classList.remove("IOS"),l.G6?document.body.classList.add("Safari"):document.body.classList.remove("Safari"),s?document.body.classList.add("mobile"):document.body.classList.remove("mobile"),l.Em?document.body.classList.add("tablet"):document.body.classList.remove("tablet"),Y?document.body.classList.add("Landscape"):document.body.classList.remove("Landscape")}),[s,Y]),(0,i.useEffect)((()=>{W||!t.user_id&&!(null===z||void 0===z?void 0:z.uid)||(async()=>{if(t.user_id){var e;const n=await(0,b.qZ)(),a=(0,b.KU)(n),s=null===(e=(0,b.ie)())||void 0===e?void 0:e.gjw,i=!!(t.passbooks&&s&&s.listSiteUsers().length)&&t.passbooks.includes(s.listSiteUsers()[0].did);return t.user_id===a.uid||i||(0,L.E2)({locale:H,urlAfter:window.location.pathname}),void(0,w._P)(o)}if(null===z||void 0===z?void 0:z.uid)if(z.expired){const e=await(0,b.G_)();if(e){const{isSuccess:t}=await(0,m.qz)(e);if(t){const e=await(0,b.qZ)(),t=(0,b.KU)(e);(null===t||void 0===t?void 0:t.uid)&&!t.expired&&(0,I.f3)({userId:t.uid,locale:H})}else(0,L.E2)({locale:H,urlAfter:window.location.pathname})}else(0,L.E2)({locale:H,urlAfter:window.location.pathname})}else(0,I.f3)({userId:z.uid,locale:H})})()}),[null===z||void 0===z?void 0:z.expired,t.user_id,null===z||void 0===z?void 0:z.uid]),(0,i.useEffect)((()=>{if(W)return;const e=["/gjwplus/genre/[id]","/gjwplus/vnsub","/premium/business"];setTimeout((()=>{if(e.includes(R))return;const t=(0,b.A)();""!==t&&V(t)}),0);const t=h.u.onmessage.subscribe((e=>{var t;"event"===e.type&&"new_content"===(null===(t=e.data)||void 0===t?void 0:t.type)&&v.L.setState((t=>{const o=e.data.content_id;return-1!==t.notifications.newPostIds.indexOf(o)||(0,C.se)(o)?t:(t.notifications.newPostIds=[o,...t.notifications.newPostIds],(0,n.Z)({},t))}))}),!0);return()=>{t.unsubscribe()}}),[]),null}},6811:function(e,t,o){o.d(t,{u:function(){return a}});var n=o(11914);const a={send:new n.Z(null),onmessage:new n.Z(null),onopen:new n.Z(!1),onclose:new n.Z(!1),onerror:new n.Z(null)}},90634:function(e,t,o){o.d(t,{jY:function(){return u},lc:function(){return f}});var n=o(26042),a=o(69396),s=o(20061),i=o(57583),l=o(98940),d=o(29154),r=o(78764);const c=e=>{const t=s.s.getState().following;e(t),s.s.setState({following:t})},u=async(e,t)=>{const{isSuccess:o,errorMsg:s}=await(0,i.IG)(e.id,null===t||void 0===t?void 0:t.id);let u=e.follower_count||0;return o&&(c((t=>{t.followedChannels=(0,n.Z)({[e.id]:e},t.followedChannels)})),l.j.setState((t=>{var o;return(null===(o=t.data[e.id])||void 0===o?void 0:o.id)?(u=t.data[e.id].follower_count||0,u++,t.data[e.id]=(0,a.Z)((0,n.Z)({},t.data[e.id]),{follower_count:u,is_follow:!0,notification:d.P8.Moderate}),(0,n.Z)({},t)):t})),(0,r.sendTrackingFollowChannel)({eventName:"follow_channel",data:{channel_id:e.id}})),{isSuccess:o,errorMsg:s,follower_count:u}},f=async e=>{const{isSuccess:t,errorMsg:o}=await(0,i.YE)(e.id);let s=e.follower_count||0;return t&&(c((t=>{delete t.followedChannels[e.id],t.followedChannels=(0,n.Z)({},t.followedChannels)})),l.j.setState((t=>{var o;return(null===(o=t.data[e.id])||void 0===o?void 0:o.id)?(s=t.data[e.id].follower_count||0,s>0&&s--,t.data[e.id]=(0,a.Z)((0,n.Z)({},t.data[e.id]),{follower_count:s,is_follow:!1,notification:d.P8.Unfollow}),(0,n.Z)({},t)):t})),(0,r.sendTrackingFollowChannel)({eventName:"unfollow_channel",data:{channel_id:e.id}})),{isSuccess:t,errorMsg:o,follower_count:s}}}}]);