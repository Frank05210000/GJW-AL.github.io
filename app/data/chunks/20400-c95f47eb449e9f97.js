(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[20400],{69370:function(t,e,n){"use strict";var i=n(26042),s=n(85893),r=n(67294),a=n(23114),o=n(42605),c=n.n(o),l=n(85842),d=n(71176),u=n(16481),m=n(73198),p=n(3988),f=n(85479);const h=128,k=t=>{var e,n;const{item:o,index:k=0,noBorder:_,onCloseButtonClick:v,thumbSize:g=h}=t,P=o.id||"",x=(0,l.Eh)((t=>t.uploading[P])),y=null===(e=o.file)||void 0===e?void 0:e.type.includes("pdf"),j=(0,r.useCallback)((t=>{const e=t.currentTarget;o.width=e.naturalWidth,o.height=e.naturalHeight,o.ratio=e.naturalHeight/e.naturalWidth,l.Eh.setState((t=>t.mediaInfos[k]?(t.mediaInfos[k]=(0,i.Z)({},o),(0,i.Z)({},t)):t))}),[o]),B=(0,r.useMemo)((()=>({width:g||h,height:g||h,minWidth:g||h,minHeight:g||h})),[g]);return(0,s.jsxs)("div",{style:B,className:(0,a.Z)(c().imgThumb,_&&c().noBorder),children:[y?(0,s.jsx)("div",{className:c().pdfLabel,children:(0,s.jsx)("div",{className:c().label,children:"PDF"})}):(0,s.jsx)(u.Z,{className:c().img,src:(0,f.ab)(o.preview||o.url,"thumb",g<=90?f.fs.XSMALL:f.fs.SMALL),onLoad:j,alt:null===(n=o.file)||void 0===n?void 0:n.name}),(0,s.jsx)(m.Z,{btnClass:c().closeBtn,onClick:v,startIcon:(0,s.jsx)(p.default,{})}),"uploading"===x&&(0,s.jsx)("div",{className:c().loading,children:(0,s.jsx)(d.Z,{loading:!0})})]})};k.displayName="ImagePreviewInPostEditor",e.Z=(0,r.memo)(k)},85502:function(t,e,n){"use strict";var i=n(85893),s=n(67294),r=n(23114),a=n(12987),o=n.n(a),c=n(66438),l=n(16481),d=n(41382),u=n(90065),m=n(73250),p=n(71695),f=n(89820),h=n(96712);e.Z=function(t){let{sticker:e,setSticker:n,isPost:a,noPortalPopup:k,onToggleStickerPopup:_}=t;const v=(0,c.jY)(),g=(0,u.Z)(),P=(0,m.Z)(),x=(0,s.useCallback)((t=>{if(!t.premium||P)n(t);else{const t=(0,f.BH)();window.open("".concat(t===h.A1?"":"/".concat(t),"/premium/individual?sid=offerBanner"),"_blank")}}),[v.id,P]);return(0,i.jsxs)("ul",{className:(0,r.Z)("stickerBar",o().stickerBar),children:[g.map((t=>(0,i.jsx)("li",{className:(0,r.Z)("stickerItem",o().stickerItem,(null===e||void 0===e?void 0:e.id)===t.id&&o().active),children:(0,i.jsxs)("button",{onClick:()=>x(t),children:[(0,i.jsx)(l.Z,{alt:t.id,src:t.url}),t.premium&&!P&&(0,i.jsx)("div",{className:"absolute right-0 bottom-0",children:(0,i.jsx)(p.H,{})})]})},"default-sticker-".concat(t.id)))),(0,i.jsx)("li",{className:o().stickerBtn,children:(0,i.jsx)(d.ZP,{isPost:a,onTogglePopup:_,noPortalPopup:k,onSelectSticker:n})})]})}},41382:function(t,e,n){"use strict";var i=n(85893),s=n(67294),r=n(73198),a=n(94326),o=n.n(a),c=n(20061),l=n(84240),d=n(66438),u=n(5152),m=n.n(u),p=n(83813),f=n(51769),h=n(37929),k=n(23114);const _=m()((async()=>(await Promise.all([n.e(89414),n.e(69930),n.e(80218),n.e(11009)]).then(n.bind(n,9904))).default),{loadableGenerated:{webpack:()=>[9904]}}),v=m()((async()=>(await Promise.all([n.e(89414),n.e(69930),n.e(8216)]).then(n.bind(n,8216))).default),{loadableGenerated:{webpack:()=>[8216]}});function g(t){let{isPost:e,isIconBtn:n,noPortalPopup:a,onTogglePopup:u,onSelectSticker:m}=t;const{t:g}=(0,f.$G)(),P=(0,d.jY)(),x=P.isGuest,{0:y,1:j}=(0,s.useState)(!1),B=(0,s.useRef)(null),b=(0,c.s)((t=>t.recentStickerList)),S=(0,s.useCallback)((t=>{t.stopPropagation(),j((t=>(null===u||void 0===u||u(!t),!t)))}),[]),w=(0,s.useCallback)((()=>{null===u||void 0===u||u(!1),j(!1)}),[u]),C=t=>{if(!b.find((e=>e.id===t.id))){const e=[t,...b].filter(((t,e)=>e<5));c.s.setState({recentStickerList:e});const n={recent_stickers:e.map((t=>t.id)),id:P.id};x||(0,l.rg)(n)}null===m||void 0===m||m(t),null===u||void 0===u||u(!1),j(!1)},I=e?v:_;return(0,i.jsxs)(i.Fragment,{children:[n?(0,i.jsx)(r.Z,{ref:B,"data-testid":"post-sticker",onClick:S,btnClass:(0,k.Z)("stickerBtn",o().iconBtn),startIcon:(0,i.jsx)(h.default,{name:"TimelineStickerIcon"})}):(0,i.jsx)(r.Z,{ref:B,"data-testid":"post-sticker",onClick:S,btnClass:(0,k.Z)("stickerBtn",e?o().plusBtn:o().moreBtn),startIcon:(0,i.jsx)(h.default,{name:e?"Plus1Icon":"AddMoreIcon"}),text:g(e?"common.viewAll":"common.more")}),y&&(a?(0,i.jsx)(I,{noPortalPopup:!0,btnRef:B,onClose:w,onSelectSticker:C}):(0,i.jsx)(p.h,{children:(0,i.jsx)(I,{btnRef:B,onClose:w,onSelectSticker:C})}))]})}e.ZP=(0,s.memo)(g)},84240:function(t,e,n){"use strict";n.d(e,{Dv:function(){return a},OL:function(){return r},l2:function(){return s},rg:function(){return o}});var i=n(88544);const s=async t=>(0,i.gH)({inputData:t,useWorker:!0,apiPath:"library/sticker-pack"}),r=async t=>(0,i.gH)({inputData:t,useWorker:!0,apiPath:"library/sticker"}),a=async t=>(0,i.gH)({inputData:t,useWorker:!0,apiPath:"social-channel/get-recent-stickers"}),o=async t=>(0,i.gH)({inputData:t,method:"POST",useWorker:!0,apiPath:"social-channel/update-recent-stickers"})},90065:function(t,e,n){"use strict";var i=n(59820),s=n(66438),r=n(20061),a=n(84240),o=n(29154);e.Z=()=>{const t=(0,s.jY)(),e=t.isGuest,n=(0,r.s)((t=>t.recentStickerList));return(0,i.ZP)("recent-sticker-list-".concat(t.id),(async()=>{if(e)return o.H7;const{data:n}=await(0,a.Dv)({user_id:t.id});let i=((null===n||void 0===n?void 0:n.recent_stickers)||[]).filter((t=>!!t.sticker_url)).map((t=>({id:t.sticker_id,url:t.sticker_url,premium:t.sticker_premium})));return i.length<5&&(i=Array.from(new Map([...i,...o.H7].map((t=>[t.id,t]))).values()),i=i.slice(0,5)),r.s.setState({recentStickerList:i}),i})),n}},71695:function(t,e,n){"use strict";n.d(e,{H:function(){return s},a:function(){return r}});var i=n(85893);const s=()=>(0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:12,height:13,fill:"none",children:[(0,i.jsx)("rect",{width:12,height:12,y:.458,fill:"url(#lockfill)",rx:6,style:{borderRadius:"50%",fill:"#00a0fc"}}),(0,i.jsx)("path",{stroke:"#fff",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:.75,d:"M4.5 6.083v-1.5c0-.5.3-1.5 1.5-1.5s1.5 1 1.5 1.5v1.5m-3 0H3.375v3.75h5.25v-3.75H7.5m-3 0h3"}),(0,i.jsx)("defs",{children:(0,i.jsxs)("linearGradient",{id:"lockfill",x1:12,x2:11.992,y1:.458,y2:13.787,gradientUnits:"userSpaceOnUse",children:[(0,i.jsx)("stop",{stopColor:"#00B0FC"}),(0,i.jsx)("stop",{offset:1,stopColor:"#0187FD"})]})})]}),r=()=>(0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:25,fill:"none",children:[(0,i.jsx)("path",{fill:"url(#headerfill)",stroke:"url(#headerstroke)",strokeLinecap:"round",strokeLinejoin:"round",d:"M6.517 14.942a.5.5 0 0 0 .5.5h9.966a.5.5 0 0 0 .5-.5v-4.53a.5.5 0 0 0-.724-.447l-2.335 1.168-2.017-2.823a.5.5 0 0 0-.814 0l-2.016 2.823L7.24 9.965a.5.5 0 0 0-.724.447v4.53Z"}),(0,i.jsxs)("defs",{children:[(0,i.jsxs)("linearGradient",{id:"headerfill",x1:16.983,x2:16.98,y1:8.6,y2:15.645,gradientUnits:"userSpaceOnUse",children:[(0,i.jsx)("stop",{stopColor:"#00B0FC"}),(0,i.jsx)("stop",{offset:1,stopColor:"#0187FD"})]}),(0,i.jsxs)("linearGradient",{id:"headerstroke",x1:16.983,x2:16.98,y1:8.6,y2:15.645,gradientUnits:"userSpaceOnUse",children:[(0,i.jsx)("stop",{stopColor:"#00B0FC"}),(0,i.jsx)("stop",{offset:1,stopColor:"#0187FD"})]})]})]})},44642:function(t,e,n){"use strict";n.d(e,{E$:function(){return d},PB:function(){return _},Qn:function(){return h},Vm:function(){return p},X6:function(){return k},ew:function(){return f},gy:function(){return m},s0:function(){return c},vC:function(){return l},zH:function(){return u}});var i=n(26042),s=n(69396),r=n(29154),a=n(88544);async function o(t){const e=await(0,a.gH)({inputData:t,useWorker:!0,apiPath:"comment"});return e.data?e.data=(0,s.Z)((0,i.Z)({},e.data),{list:e.data.list,startKey:e.data.startKey}):e.data={totalCount:0,allLevelCount:0,list:[],startKey:""},e}async function c(t){const{locale:e,video_id:n,startKey:i="",size:s=r.$c,flag:a="approved",sortBy:c="time_scheduled,desc"}=t;return o({_startKey:i,_limit:s,_order:c,_getCount:"1",lan:e,parent_id:n,flag:a})}async function l(t){const{locale:e,parent_id:n,startKey:i="",size:s=r.$c,flag:a="approved",sortBy:c="time_scheduled,desc"}=t;return o({_startKey:i,_limit:s,_order:c,_getCount:"1",lan:e,parent_id:n,flag:a})}const d=async t=>(0,a.gH)({inputData:t,method:"GET",apiPath:"comment/get-by-ids",version:"v1.1"}),u=async t=>{let{content:e,content_id:n,sticker_id:i,comment_parent_id:s}=t;const r={content:e,parent_id:s||n,content_id:n,sticker_id:i};return(0,a.gH)({inputData:r,method:"POST",version:"v1.1",gjwSecurityHeader:!0,apiPath:"comment/add",dataPath:"data.data.id"})},m=async t=>{let{commentId:e,content:n,sticker_id:i}=t;const s={content:n,id:e,sticker_id:i};return(0,a.gH)({inputData:s,method:"POST",useWorker:!0,version:"v1.1",gjwSecurityHeader:!0,apiPath:"comment/update"})},p=async(t,e)=>{const n={comment_id:t,pinned:e};return(0,a.gH)({inputData:n,method:"POST",apiPath:"pin-comment"})};async function f(t){return(0,a.gH)({inputData:{content_id:t},apiPath:"pinned-comment",useWorker:!0})}const h=async t=>(0,a.gH)({method:"DELETE",apiPath:"comment/".concat(t)}),k=async t=>{const e={id:t,is_like:!0};return(0,a.gH)({inputData:e,method:"POST",apiPath:"like-comment"})},_=async t=>{const e={id:t,is_like:!1};return(0,a.gH)({inputData:e,method:"POST",apiPath:"like-comment"})}},32326:function(t,e,n){"use strict";n.d(e,{l:function(){return l}});var i=n(59820),s=n(278),r=n(88238),a=n(1622),o=n(42527),c=n(29154);const l=(t,e)=>{const{locale:n}=(0,s.Z)(),{data:l}=(0,i.ZP)(t?"useDisableCommentsOnChannel-".concat(t,"-").concat(n,"-").concat(e):null,(async()=>{if(e)return!0;if(!t)return!1;if(t.endsWith("d"))return!1;const i=(0,o.se)(t);if((null===i||void 0===i?void 0:i.permission)&&!(0,o.rX)(i.ts))return Boolean(null===i||void 0===i?void 0:i.permission.disable_comments);const{isSuccess:s,data:c}=await(0,r.gV)({id:t,lan:n});return!(!s||!(null===c||void 0===c?void 0:c.permission))&&((0,a.sO)(c),Boolean(c.permission.disable_comments))}),c.yL);return l}},73250:function(t,e,n){"use strict";var i=n(59820),s=n(66438),r=n(88238),a=n(1622),o=n(29154),c=n(85707);e.Z=()=>{var t;const e=(0,s.xJ)(),n=(0,s.jY)(),l=(0,c.RB)(n.id);return(0,i.ZP)(e.user_id?"useIsPremiumChannel-".concat(n.id):null,(async()=>{if(!e.user_id)return!1;if(null===l||void 0===l?void 0:l.premium)return["active","cancelled"].includes(l.premium.status||"");const{data:t}=await(0,r.oV)({id:n.id});return!!(null===t||void 0===t?void 0:t.id)&&((0,a.sO)(t),["active","cancelled"].includes(t.premium.status))}),o.yL),["active","cancelled"].includes((null===l||void 0===l||null===(t=l.premium)||void 0===t?void 0:t.status)||"")}},42605:function(t){t.exports={imgThumb:"ImagePreviewInPostEditor_imgThumb__jy78f",noBorder:"ImagePreviewInPostEditor_noBorder__CUWk6",img:"ImagePreviewInPostEditor_img__xID42",closeBtn:"ImagePreviewInPostEditor_closeBtn__HJiXh",pdfLabel:"ImagePreviewInPostEditor_pdfLabel__kQY9c",label:"ImagePreviewInPostEditor_label__N0p2Z",loading:"ImagePreviewInPostEditor_loading__cg1bD"}},12987:function(t){t.exports={stickerBar:"RecentStickersBar_stickerBar__13hUF",stickerItem:"RecentStickersBar_stickerItem__R_p_H",active:"RecentStickersBar_active__Im8Gl",stickerBtn:"RecentStickersBar_stickerBtn__hHh9_"}},94326:function(t){t.exports={iconBtn:"StickerPopupBtn_iconBtn__iIaUL",moreBtn:"StickerPopupBtn_moreBtn__dNpep",plusBtn:"StickerPopupBtn_plusBtn__qXwnT"}}}]);