(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[25722,6534,61600,99195,90562,18223],{57759:function(e,s,t){"use strict";var i=t(5152);const o=t.n(i)()((async()=>(await Promise.all([t.e(60296),t.e(67113)]).then(t.bind(t,67113))).default),{loadableGenerated:{webpack:()=>[67113]},ssr:!1});s.Z=o},4640:function(e,s,t){"use strict";t.r(s);var i=t(26042),o=t(69396),n=t(85893),a=t(67294),l=t(93463),r=t(51769),d=t(23114),c=t(66438),m=t(61574),u=t(4904),v=t.n(u),p=t(73198),h=t(44642),x=t(92075),f=t(52446),j=t(85707),_=t(72076),N=t(85502),g=t(61600),b=t(41382),y=t(67844),C=t(73041),w=t(69370);const k=e=>{var s;const{postId:t,className:u,isFloatEditor:k,autoFocus:Z,onFocus:E,onBlur:P}=e,S=(0,j.RB)(t),{t:I}=(0,r.$G)(),T=(0,c.jY)(),L=(0,c.xJ)(),M=!(null===L||void 0===L?void 0:L.user_id),F=(0,x.L)((e=>e.comments.editing)),A=(0,x.L)((e=>{var s;return null===(s=e.comments.editing)||void 0===s?void 0:s.edited})),R=!!F.replyTo,{0:D,1:B}=(0,a.useState)(),{0:G,1:H}=(0,a.useState)(Z),{0:W,1:$}=(0,a.useState)(!1),{0:O,1:q}=(0,a.useState)(),U=(0,a.useRef)(null),z=(0,a.useRef)(null);(0,a.useEffect)((()=>{var e;if(Z)return null===(e=z.current)||void 0===e||e.focus(),()=>{(0,f.O$)()}}),[]),(0,a.useEffect)((()=>{A&&B({id:A.sticker_id||"",url:A.sticker_url||""})}),[null===A||void 0===A?void 0:A.sticker_id]);const V=(0,a.useCallback)((e=>{const s=e.target;var t;s.value.length<=m.oG&&(t=s.value,x.L.setState((e=>(e.comments.editing=(0,o.Z)((0,i.Z)({},e.comments.editing),{value:t}),(0,i.Z)({},e)))))}),[]),J=(0,a.useCallback)((async e=>{if(F.edited){const e=F.edited,{isSuccess:s}=await(0,h.gy)({commentId:e.id,content:F.value,sticker_id:null===D||void 0===D?void 0:D.id});if(!s)return;(0,f.bn)({editedComment:e,updatedContent:F.value,sticker:D})}else{let s=F.replyTo||S;F.replyTo&&F.replyTo.parent_id&&3===F.level&&(s=x.L.getState().comments.allComments[F.replyTo.parent_id].data);const{errorMsg:t,data:i}=await(0,h.zH)({content:e,isGuest:M,content_id:S.id,sticker_id:null===D||void 0===D?void 0:D.id,comment_parent_id:s.id});!t&&i&&(0,f.sm)({postId:S.id,parentItem:s,commentId:i,content:e,identity:T,sticker:D})}B(void 0),H(!1)}),[S,T,F,D]),Y=(0,a.useCallback)((e=>{e.stopPropagation(),e.preventDefault();const s=(F.value||"").trim().replace(/[\r\n]+/g,"\n");(D||s.length)&&(s.length>m.oG||($(!0),J(s).finally((()=>$(!1)))))}),[J,F]),X=F.value||"",K=!X.length&&!G&&!D;(0,C.Z)(U,(()=>H(!1)),!O&&!X.length&&!D);const Q=(0,a.useCallback)((()=>B(void 0)),[]),ee=(0,a.useCallback)((e=>q(e)),[]),se=(0,y.Ei)(T.id);var te;return(0,n.jsxs)("div",{ref:U,className:(0,d.Z)("mobiCmtEditor",u,v().mobiEditor,k&&v().floatEditor),children:[R&&(0,n.jsxs)("div",{className:v().replyTo,children:[(0,n.jsxs)("span",{className:(0,d.Z)(v().username,"line-clamp-1"),children:[I("social.replyTo")," ",(0,n.jsx)("b",{children:null!==(te=null===(s=F.replyTo)||void 0===s?void 0:s.user.name)&&void 0!==te?te:"Unknown User"})]}),(0,n.jsx)(p.Z,{btnClass:v().cancelBtn,onClick:()=>{H(!1),B(void 0),x.L.setState((e=>(e.comments.editing=(0,o.Z)((0,i.Z)({},e.comments.editing),{value:"",replyTo:void 0,edited:void 0,level:1}),(0,i.Z)({},e))))},text:I("social.cancel")})]}),(0,n.jsxs)("div",{className:v().editorWrap,id:"mobileCommentEditorContainer",children:[!!(null===D||void 0===D?void 0:D.url)&&(0,n.jsx)(w.Z,{noBorder:!0,item:D,thumbSize:64,onCloseButtonClick:Q}),(0,n.jsxs)("div",{className:v().cmtEditor,children:[(0,n.jsx)(_.Z,{size:32}),(0,n.jsxs)("div",{className:v().inputWrap,children:[(0,n.jsx)(l.Z,{id:"cmtTxtInput",ref:z,tabIndex:-1,value:X,minRows:1,maxRows:6,onFocus:()=>{null===E||void 0===E||E(),H(!0)},onBlur:P,className:(0,d.Z)(v().input),onChange:V,disabled:se,placeholder:I(se?"social.commentDisabledArchived":"videoPlayPage.commentPlaceHolder")}),X.length>=m.oG-100&&(0,n.jsxs)("div",{className:v().charLimit,children:[(0,n.jsx)("span",{className:(0,d.Z)("flex items-center",X.length>=m.oG&&"text-gjw-error"),children:X.length}),(0,n.jsx)("span",{className:"flex items-center px-0.5",children:"/"}),(0,n.jsx)("span",{className:"flex items-center",children:m.oG})]})]}),(0,n.jsx)("div",{className:v().controlWrap,children:K?(0,n.jsx)(b.ZP,{isPost:!0,isIconBtn:!0,onSelectSticker:B,onTogglePopup:ee}):(0,n.jsx)(p.Z,{btnClass:(0,d.Z)(v().controlBtn,v().sendBtn),onClick:Y,startIcon:(0,n.jsx)(g.default,{}),disabled:!X.length&&!D||W})})]}),!D&&(!!X.length||G)&&(0,n.jsxs)("div",{className:"flex mt-2",children:[(0,n.jsx)("span",{className:"w-10"}),(0,n.jsx)(N.Z,{isPost:!0,sticker:D,setSticker:B,onToggleStickerPopup:ee})]})]})]})};k.displayName="CommentEditorMobile",s.default=(0,a.memo)(k)},48226:function(e,s,t){"use strict";t.d(s,{Z:function(){return we}});var i=t(85893),o=t(23114),n=t(51769),a=t(67294),l=t(66627),r=t.n(l),d=t(8511),c=t(61574),m=t(67844),u=t(29154),v=t(32326),p=t(20061),h=t(63502),x=t(26042),f=t(83636),j=t(20948),_=t(48636),N=t(92075),g=t(52446),b=t(26276),y=t(81749),C=t(278),w=t(66438),k=t(4640),Z=t(18223),E=t(92050);const P=e=>{let{postId:s}=e;const t=(0,d.u)(s),{t:a}=(0,n.$G)(),l=(0,p.s)((e=>e.system.isMobileLandscape));return(0,i.jsx)("div",{style:{maxHeight:"calc(100vh - ".concat(l?"260px ":"350px",")")},children:(null===t||void 0===t?void 0:t.comment_disabled)?(0,i.jsx)("div",{className:(0,o.Z)(l?"h-[100px]":"h-[300px]","pb-10 flex justify-center items-center"),children:a("social.commentDisabled")}):(null===t||void 0===t?void 0:t.comment_count)?(0,i.jsx)(h.default,{parentItem:t,parentContent:t,style:{marginTop:15},level:1,defaultDisplayNum:c.MS,loadingReplies:!1}):(0,i.jsx)("div",{className:(0,o.Z)(l?"h-[100px]":"h-[300px]","pb-10 flex justify-center items-center"),children:a("social.beTheFirstToComment")})})};var S=(0,a.memo)(P),I=t(29807),T=t(38735),L=t(79149),M=t(17747),F=t(85518);const A=e=>{var s,t;const{post:l,sharedPost:r,displayDividers:d,onlyShowTopCmt:c,focusStickyEditor:m,setFocusStickyEditor:h,isArchived:P,isFocusCmt:A,groupId:R}=e,{t:D}=(0,n.$G)(),{locale:B,router:G}=(0,C.Z)(),H=(0,a.useRef)(null),W=(0,w.xJ)(),$=(0,L.H)(),O=$.isChannelSeniorManager||$.isChannelManager,q=(0,p.s)((e=>e.system.browserWidth<u.NN)),U=l.owner_id||(null===(s=l.owner)||void 0===s?void 0:s.id)||(null===(t=l.channel)||void 0===t?void 0:t.id),z=(0,v.l)(U,l.comment_disabled),V=(0,N.L)((e=>e.unavailableShareContents[(null===l||void 0===l?void 0:l.share_id)||""])),{isPostDetailPage:J,isPremiumOrPrivatePost:Y,canShare:X}=(0,a.useMemo)((()=>{const e=!!(null===l||void 0===l?void 0:l.premium)||"private"===l.visibility,s="/post/[id]"===G.pathname,t=(0,b.iV)(l.share_id,r);let i=!0;return(null===l||void 0===l?void 0:l.share_id)&&(i="Hashtag"==(null===t||void 0===t?void 0:t.type)||"Collection"==(null===t||void 0===t?void 0:t.type)?!V:!!(null===t||void 0===t?void 0:t.content)),{isPostDetailPage:s,isPremiumOrPrivatePost:e,canShare:i}}),[l.premium,l.share_id,null===r||void 0===r?void 0:r.id,G.pathname,V]),K=(0,a.useCallback)((()=>{if(!z)if(P)f.dialogHandler.showToast({text:D("profile.text.youCannotPerformOnArchived"),type:"NT_ERROR",position:"center"});else if(A)h(!m);else if(J){h(!m);const e=document.querySelector("#cmtTxtInput");null===e||void 0===e||e.focus()}else!c||F.tq?(N.L.setState((e=>(e.comments.editing.parentPost?e.comments.editing.parentPost=void 0:e.comments.editing.parentPost=l,(0,x.Z)({},e)))),f.dialogHandler.showDrawer({showCloseBtn:!0,headerEl:(0,i.jsx)(Z.default,{postId:l.id}),bodyEl:(0,i.jsx)(S,{postId:l.id}),footerEl:l.comment_disabled?null:(0,i.jsx)(k.default,{postId:l.id}),dialogSettings:{onCloseDialog:()=>{(0,g.N4)(),(0,g.O$)()}}})):f.dialogHandler.showCustomDialog({Component:j.$q,props:{post:l,isFocusCmt:!0},dialogSettings:{dialogClass:"block"}})}),[z,c,q,J,P,l.owner_id,null===W||void 0===W?void 0:W.user_id,B]),Q=e=>{X&&(P?f.dialogHandler.showToast({text:D("profile.text.youCannotPerformOnArchived"),type:"NT_ERROR",position:"center"}):(0,y.mc)({e:e,type:"Post",content:l,sharePost:r}))},ee=()=>{(0,M.T1)()||(0,M.SQ)()||f.dialogHandler.showCustomDialog({Component:j.aP,props:{content:l},dialogSettings:{dialogClass:"dialog_saveto_popup"}})};if(!l)return null;const se="Post"===l.type;return(0,i.jsxs)("div",{ref:H,className:(0,o.Z)("post-footer py-2 mb-1",q?"px-4":"px-6",d&&"border-t border-b border-gjw-gray dark:border-gjw-dark",O&&"!justify-evenly",Y&&"!justify-evenly"),children:[(0,i.jsxs)("div",{className:"left-actions",children:[(0,i.jsx)(E.Z,{post:l,count:l.like_count,isArchived:P}),!q&&(0,i.jsx)(I.Z,{action:"Comment",count:l.comment_count,onClick:K,disabled:z}),!q&&!Y&&!R&&!(null===l||void 0===l?void 0:l.group_id)&&(0,i.jsx)(I.Z,{action:"Share",count:l.share_count,onClick:Q,disabled:!X,className:(0,o.Z)(!X&&"!cursor-not-allowed","share")})]}),(0,i.jsxs)("div",{className:(0,o.Z)("flex items-center flex-grow",q&&"pr-0"),children:[q&&(0,i.jsx)(I.Z,{action:"Comment",count:l.comment_count,onClick:K,disabled:z}),q&&!Y&&!R&&!(null===l||void 0===l?void 0:l.group_id)&&(0,i.jsx)(I.Z,{action:"Share",count:l.share_count,onClick:Q,disabled:!X,className:(0,o.Z)(!X&&"!cursor-not-allowed","share")}),se?(0,i.jsxs)("div",{className:"saveHandlerWrapper flex items-center !justify-between",children:[R||(null===l||void 0===l?void 0:l.group_id)?(0,i.jsx)("div",{}):(0,i.jsxs)("div",{className:"post-action-button cursor-pointer flex items-center",onClick:ee,children:[(0,i.jsx)("div",{className:"self-center",children:(0,i.jsx)(_.default,{className:"w-4 h-4"})}),!!(null===l||void 0===l?void 0:l.save_count)&&l.save_count>0&&(0,i.jsx)("span",{className:"self-center text-s14",children:l.save_count})]}),(0,i.jsx)(T.Z,{post:l,className:"pr-1"})]}):(0,i.jsx)("div",{className:"saveHandlerWrapper",children:(0,i.jsxs)("div",{className:"cursor-pointer flex items-center",onClick:ee,children:[(0,i.jsx)("div",{className:"self-center",children:(0,i.jsx)(_.default,{className:"w-4 h-4"})}),!!(null===l||void 0===l?void 0:l.save_count)&&l.save_count>0&&(0,i.jsx)("span",{className:"self-center text-s14",children:l.save_count})]})})]})]})};var R=t(26013),D=t(5631),B=t(88626),G=t(57413),H=t(57023),W=t(42719),$=t.n(W),O=t(64904);var q=e=>{const{post:s,defaultDisplayNum:t,hideCmtEditor:n,focusStickyEditor:a,setFocusStickyEditor:l,isArchived:r,commentListClassName:d}=e;return(0,i.jsxs)("div",{className:"w-full",children:[!n&&(0,i.jsx)("div",{className:"w-full mb-2",children:(0,i.jsx)(O.Z,{isLv1Cmt:!0,level:1,parent:s,parentContent:s,isNewReply:!0,isStickyEditor:!0,focusStickyEditor:a,setFocusStickyEditor:l,isArchived:r,allowGuestToComment:!0})}),s.comment_count>0&&(0,i.jsx)("div",{className:(0,o.Z)($().post_comment_list_container,$().level1,d),children:(0,i.jsx)(h.default,{level:1,parentItem:s,defaultDisplayNum:t||c.qn,parentContent:s,loadingReplies:!1})})]})},U=t(59820),z=t(69729),V=t.n(z),J=t(44642),Y=t(46129),X=t(91111),K=t(85479),Q=t(24054),ee=t(10387),se=t(85707);const te=e=>{const{comment:s,post:t,openPostDialog:o}=e,n=(0,p.s)((e=>e.system.currentLocale)),l=(0,se.RB)(s.id,{defaultValue:s}),r=(0,w.nE)(),d=r.id===l.user.id,c=(0,a.useCallback)((e=>e?(0,ee.escapeHtml)(e):""),[n]),m=l.content.trim();return(0,i.jsxs)("div",{className:V().comment,children:[(0,i.jsx)(ie,{avatarUrl:d?r.avatar:l.user.avatar,name:d?r.name:l.user.name,size:24,cmtUserId:l.user.id,isArchived:!1}),m&&(0,i.jsx)(Q.Z,{maxLines:1,onClick:()=>o(t.id),html:m,className:V().cmtContent,afterProcessHtml:c}),!!l.sticker_url&&(0,i.jsx)(Y.Z,{alt:"sticker",layout:"fill",objectFit:"contain",width:24,height:24,className:"w-6 h-6 flex-shrink-0",src:l.sticker_url})]})},ie=e=>{const{avatarUrl:s,name:t,size:o,cmtUserId:n,isArchived:a}=e,{locale:l}=(0,C.Z)();return n.endsWith("d")?(0,i.jsx)("div",{className:"flex grow-1 shrink-0 rounded-full",style:{width:o,height:o},children:(0,i.jsx)(Y.Z,{roundedFull:!0,src:(0,K.ab)(s,"avatar",K.fs.XSMALL),alt:t,name:t,width:o,height:o,objectFit:"cover",ownerId:n})}):(0,i.jsx)(X.Z,{href:(0,m.po)(n,l),className:a?"pointer-events-none":"",children:(0,i.jsx)("div",{className:"flex grow-1 shrink-0 rounded-full",style:{width:o,height:o},children:(0,i.jsx)(Y.Z,{roundedFull:!0,src:(0,K.ab)(s,"avatar",K.fs.XSMALL),alt:t,name:t,width:o,height:o,objectFit:"cover"})})})};var oe=t(73423),ne=t(42527);const ae=e=>{const{post:s}=e,{t:t}=(0,n.$G)(),o=(0,p.s)((e=>e.system.browserWidth<u.NN)),{data:l}=(0,U.ZP)("popular-comments-".concat(s.id,"-").concat(s.comment_count),(async()=>{var e;if(!(null===(e=s.popular_comments)||void 0===e?void 0:e.length))return[];const{data:t}=await(0,J.E$)({ids:s.popular_comments.join()}),i=[];return(null===t||void 0===t?void 0:t.comments)&&(Object.keys(t.comments).reverse().forEach((e=>i.push(t.comments[e]))),(0,ne.N7)(i)),i})),r=(0,a.useCallback)((e=>{e&&(o?f.dialogHandler.showDrawer({showCloseBtn:!0,bodyEl:(0,i.jsx)(S,{postId:s.id}),headerEl:(0,i.jsx)(Z.default,{postId:s.id}),footerEl:s.comment_disabled?null:(0,i.jsx)(k.default,{postId:s.id}),dialogSettings:{onCloseDialog:()=>{(0,g.N4)(),(0,g.O$)()}}}):f.dialogHandler.showCustomDialog({Component:j.$q,props:{post:s,isFocusCmt:!0},dialogSettings:{dialogClass:"block"}}))}),[o]);return(null===l||void 0===l?void 0:l.length)?(0,i.jsxs)("div",{className:V().commentList,children:[s.comment_count>2&&(0,i.jsx)(oe.Z,{className:V().viewMore,href:"/post/".concat(s.id),children:t("topics.moreComments")}),l.map((e=>(0,i.jsx)(te,{post:s,comment:e,openPostDialog:r},"PopularCommentItem-".concat(e.id))))]}):null};var le=(0,a.memo)(ae),re=t(86322),de=t(24748),ce=t(54886),me=t.n(ce),ue=t(94838),ve=t(27199),pe=t(81046),he=t(97245),xe=t(55182);const fe=e=>{let{post:s}=e;var t;const{locale:l}=(0,C.Z)(),r=(0,w.jY)(),d=(0,ue.l)(s.owner_id),{t:c}=(0,n.$G)(),u=(0,se.RB)(s.group_id),v=(0,a.useMemo)((()=>{var e,t;if(!d)return;const i=r.id===s.owner_id;return{channelName:i?r.name||(null===(e=s.channel)||void 0===e?void 0:e.name):(null===(t=s.channel)||void 0===t?void 0:t.name)||d.name,name:null===d||void 0===d?void 0:d.name,isGuest:!!(null===d||void 0===d?void 0:d.id.endsWith("d")),channelLink:(0,m.po)(d.id,l),channelAvatar:(0,K.ab)(i?r.avatar:d.avatarUrl,"avatar",K.fs.MEDIUM),timeValue:(0,ve.LK)(c,l,s.published_at||s.time_scheduled)}}),[s.id,null===d||void 0===d?void 0:d.id,null===(t=s.channel)||void 0===t?void 0:t.name,c,l,r,s.group_id]);return d&&v?(0,i.jsx)("div",{className:"post-header flex justify-between pt-4 px-4",children:(0,i.jsxs)("div",{className:"post-author-info",children:[v.isGuest?(0,i.jsx)("div",{className:"post-avatar",children:(0,i.jsx)(pe.Z,{ownerId:d.id,name:v.channelName,src:v.channelAvatar})}):(0,i.jsx)(oe.Z,{href:v.channelLink,className:"post-avatar",children:(0,i.jsx)(pe.Z,{name:v.channelName,src:v.channelAvatar})}),(0,i.jsxs)("div",{className:(0,o.Z)("flex flex-col overflow-hidden","ml-3"),children:[(0,i.jsxs)("div",{className:(0,o.Z)("create-group-desc"),children:[(0,i.jsx)("span",{className:"channel-name",children:v.channelName})," created the group \xa0",(0,i.jsx)("span",{className:"group-name",children:(null===u||void 0===u?void 0:u.name)||(null===s||void 0===s?void 0:s.group_name)})]}),(0,i.jsxs)("div",{className:"flex",children:[(0,i.jsx)(he.J,{classname:me().gap}),(0,i.jsx)("div",{className:(0,o.Z)("post-time flex items-center"),children:v.timeValue}),(0,i.jsx)("span",{className:"flex items-center overflow-hidden dotBefore",children:(0,i.jsx)("div",{className:"shrink-0",children:(0,i.jsx)(xe.default,{className:"w-3.5 h-3.5"})})})]})]})]})}):null};var je=t(29596),_e=t(28118),Ne=t(34842),ge=t(58888),be=t(98940),ye=t(2141);const Ce=a.forwardRef(((e,s)=>{var t,l,x,f,j;const{postId:_,post:N,className:g,commentListClassName:b,hideHeader:y,hideCmtEditor:C,hidePrivacyIcon:k,defaultDisplayNum:Z,displayMobileCommentsBlock:E,commentDisabled:P,onlyShowTopCmts:S,style:I,onUpdate:T,isInsertedInTagPage:L,isFocusCmt:M,groupId:F}=e,{t:W}=(0,n.$G)(),$=(0,a.useRef)(),O=(0,w.jY)(),z=(0,d.u)(_,N),{post:V,isLoading:J}=function(e,s){const t=null!==e&&void 0!==e?e:"",i=(0,w.jY)(),o=(0,be.j)((e=>e.data[t]||s)),{isLoading:n}=(0,U.ZP)(t&&t.endsWith("1c")?"usePostContent-".concat(t,"-").concat(i.id):null,(async()=>{if(!t)return null;const e=(0,ne.se)(t);if(!e&&s&&(0,ge.sk)(s),e&&e.premium&&e.premium>0&&!e.isFromServer&&!(0,ne.rX)(e.ts))return e;const i=await(0,ye.NE)({id:t}),{isSuccess:o,data:n,result:a}=i;o&&n?(n.isFromServer=!1,(0,ge.sk)(n,!0)):null===a||void 0===a||a.result_code}));return o?{post:o,isLoading:n}:{post:(0,ne.KT)(t)?null:void 0,isLoading:n}}(null===z||void 0===z?void 0:z.share_id),Y=(null===z||void 0===z?void 0:z.share_id)&&"0c"==z.share_id.slice(-2),X=(0,je.E)(Y?null===z||void 0===z?void 0:z.share_id:void 0,{refetch:!1}),K=(0,p.s)((e=>e.system.browserWidth<u.NN)),{0:Q,1:ee}=(0,a.useState)(!1),se=(0,a.useCallback)((e=>{s&&("function"===typeof s?s(e):s.current=e),$.current=e}),[]);(0,a.useEffect)((()=>{$.current&&T&&T($.current)}),[]);const te=z?z.owner_id||(null===(t=z.channel)||void 0===t?void 0:t.id):"",ie=(0,v.l)(te,P||(null===z||void 0===z?void 0:z.comment_disabled));if(!z)return null;const oe=(0,m.z_)(z);if(!oe)return null;const ae=(0,m.Ei)(null===z||void 0===z?void 0:z.owner_id),de=!!(null===V||void 0===V?void 0:V.type)&&"rejected"!==z.mode&&"0p"!==(null===(l=z.share_id)||void 0===l?void 0:l.substring(z.share_id.length-2))&&!("private"===(null===V||void 0===V?void 0:V.visibility)&&V.owner_id!==O.id)&&!(null===X||void 0===X?void 0:X.id),ce="0p"===(null===(x=z.share_id)||void 0===x?void 0:x.substring(z.share_id.length-2)),me=!Y&&(!V||!V.type||"rejected"===(null===z||void 0===z?void 0:z.mode))&&(null===z||void 0===z?void 0:z.share_id)&&"0p"!==z.share_id.slice(-2)&&"#"!==z.share_id.substring(0,1)&&"tag_"!==z.share_id.substring(0,4),ue="create_group"===(null===(f=z.post_message)||void 0===f?void 0:f.type);return J?null:(0,i.jsxs)("div",{style:I,ref:se,className:(0,o.Z)(r().post_block,r().timeline_posts,"post-item",!K&&"mb-0",ue&&"create-group",de&&"has-shared-post",ce&&"collection",g),children:[ue?(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(fe,{post:z})}):(0,i.jsxs)(i.Fragment,{children:[!y&&(0,i.jsx)(R.m,{post:z,hidePrivacyIcon:k,isArchived:ae,groupId:F}),(0,i.jsx)(H.Z,{content:z,postType:oe,isMobileLayout:K,isInsertedInTagPage:L,pollClassNames:{quizWrapper:r().quizWrapper}})]}),!(null===(j=z.media)||void 0===j?void 0:j.length)&&(0,i.jsxs)(i.Fragment,{children:[de&&(0,i.jsx)(G.Z,{sharedPost:V,isMobileLayout:K,hidePrivacyIcon:k,hideHeader:(null===V||void 0===V?void 0:V.type)&&"Post"!==V.type}),me&&(0,i.jsx)(re.Z,{}),z.share_id&&(0,i.jsxs)(i.Fragment,{children:["tag_"===z.share_id.substring(0,4)&&(0,i.jsx)(Ne.Z,{topicTagId:z.share_id,isMobileLayout:K}),"#"===z.share_id[0]&&(0,i.jsx)(B.Z,{hashtag:z.share_id,isMobileLayout:K}),ce&&(0,i.jsx)(D.Z,{content:z,sharedCollectionId:z.share_id,isMobileLayout:K}),!!(null===X||void 0===X?void 0:X.id)&&(0,i.jsx)(_e.Z,{channel:X})]})]}),(0,i.jsx)(A,{post:z,displayDividers:!1,sharedPost:V,isArchived:ae,onlyShowTopCmt:S,focusStickyEditor:Q,setFocusStickyEditor:ee,isFocusCmt:M,groupId:F}),ie?(0,i.jsx)("div",{className:r().commentDisabled,children:W("social.commentDisabled")}):(0,i.jsx)(i.Fragment,{children:S?(0,i.jsx)("div",{className:"post-popular-comments-wrapper",children:(0,i.jsx)(le,{post:z})}):(0,i.jsx)(i.Fragment,{children:K?(0,i.jsx)("div",{className:"px-3 mb-5 mt-6 mobile-post-comment",children:z.comment_count>0&&(0,i.jsx)(h.default,{parentItem:z,parentContent:z,style:{marginTop:15},level:1,defaultDisplayNum:Z,loadingReplies:!1})}):(0,i.jsx)("div",{className:"postCommentsBlock_wrapper px-6 mb-5 ",children:(0,i.jsx)(q,{post:z,isArchived:ae,hideCmtEditor:C,focusStickyEditor:Q,setFocusStickyEditor:ee,displayEmptyMsg:E,defaultDisplayNum:Z||c.qn,commentListClassName:b})})})})]})}));Ce.displayName="PostBlock";var we=(0,de.C)(a.memo(Ce))},18223:function(e,s,t){"use strict";t.r(s);var i=t(85893),o=t(67294),n=t(51769),a=t(92075);const l=e=>{let{postId:s}=e;const{t:t}=(0,n.$G)(),o=(0,a.L)((e=>{var t;return null===(t=e.comments.allComments[s])||void 0===t?void 0:t.totalCount}));return o?(0,i.jsxs)("span",{children:[t("social.comments")," (",o,")"]}):(0,i.jsx)("span",{children:t("social.comments")})};s.default=(0,o.memo)(l)},31797:function(e,s,t){"use strict";var i=t(85893),o=(t(67294),t(23114)),n=t(51769),a=t(70400);s.Z=e=>{const{className:s}=e,{t:t}=(0,n.$G)();return(0,i.jsxs)("div",{className:(0,o.Z)("bg-[#F0F2F5] dark:bg-[#001426] rounded-xl text-center flex flex-col items-center",s),children:[(0,i.jsx)(a.aN,{}),(0,i.jsx)("div",{className:"font-semibold text-s18",children:t("social.contentNotAvailable")}),(0,i.jsx)("span",{children:t("social.contentNotAvailableNote")})]})}},92050:function(e,s,t){"use strict";var i=t(85893),o=t(45286),n=t(83636),a=t(24750),l=t(13290),r=t(67294),d=t(66438),c=t(90562),m=t(99195),u=t(23114),v=t(57759),p=t(20061),h=t(17747),x=t(51769);function f(e){const{post:s,count:t,isArchived:f}=e,{t:j}=(0,x.$G)(),_=(0,d.xJ)(),N=(0,r.useRef)(!1),g=(0,r.useRef)(!1),{0:b,1:y}=(0,r.useState)(!!s.is_liked),{0:C,1:w}=(0,r.useState)(!1),k=(0,p.s)((e=>e.system.isPageRendered));(0,r.useEffect)((()=>()=>{N.current=!0}),[]),(0,r.useEffect)((()=>{y(!!s.is_liked)}),[s.is_liked]);const Z=()=>!_.user_id&&b;return(0,r.useEffect)((()=>{_.user_id||y((0,l.$X)().includes(s.id))}),[s.id,_.user_id]),(0,i.jsx)("div",{className:"relative",children:(0,i.jsxs)("div",{className:(0,u.Z)("post-action-button",Z()&&"pointer-events-none"),onClick:async e=>{if(e.stopPropagation(),g.current)return;if(f)return void n.dialogHandler.showToast({text:j("profile.text.youCannotPerformOnArchived"),type:"NT_ERROR",position:"center"});if((0,h.SQ)())return;if(Z())return;g.current=!0;const t=!b;t&&w(!0),y(t);const{isSuccess:i}=await(0,a.MF)(s.id,t,{isPost:!0});i&&(await(0,o.xP)({post:s,isLiked:t}),_.user_id||(0,l.ME)(s.id)),setTimeout((()=>g.current=!1),t?1800:500)},children:[(0,i.jsxs)("div",{className:"relative",children:[b?(0,i.jsx)(m.default,{className:(0,u.Z)("post-liked",C?"opacity-0":"opacity-100","w-4 h-4")}):(0,i.jsx)(c.default,{className:(0,u.Z)(C?"opacity-0":"opacity-100","w-4 h-4")}),k&&(0,i.jsx)(v.Z,{className:"absolute top-1/2 -translate-y-1/2 left-[2px] -ml-[12px] w-10 h-10 pointer-events-none",showThumbAnimation:C,setShowThumbAnimation:w})]}),(0,i.jsx)("span",{children:t&&t>0?t:""})]})})}s.Z=(0,r.memo)(f)},29807:function(e,s,t){"use strict";var i=t(85893),o=t(67294),n=t(70400),a=t(23114);const l=e=>{const{action:s,count:t,onClick:o,className:l,disabled:r}=e,d="Comment"===s?n.qt:n.aA;return(0,i.jsxs)("div",{className:(0,a.Z)("post-action-button",l,r&&"disabled"),onClick:r?()=>{}:o,children:[(0,i.jsx)(d,{}),(0,i.jsx)("span",{children:t&&t>0?t:""})]})};s.Z=(0,o.memo)(l)},38735:function(e,s,t){"use strict";t.d(s,{Z:function(){return u}});var i=t(85893),o=t(23114),n=t(6534),a=t(2141),l=t(27199),r=t(46352),d=t(51769),c=t(70131),m=t(59820);function u(e){const{post:s,className:t}=e,{t:u}=(0,d.$G)(),{inView:v,ref:p}=(0,c.YD)(),h=(0,r.w)(),{data:x}=(0,m.ZP)("PostViewCountViewer-".concat(s.id),(async()=>{var e;const t=await(0,a.uq)({id:s.id});return t.errorMsg?s.view_count:null===(e=t.data)||void 0===e?void 0:e.view_count}),{refreshInterval:v?15e3:void 0}),f=x||s.view_count,j=e.showIcon||h,_="en-US";return(0,i.jsxs)("div",{ref:p,className:(0,o.Z)("flex items-center gap-1 text-sm text-[#636363] dark:text-[#AAAAAA]",t),children:[f>0&&j&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.default,{className:"w-5 h-5 fill-transparent"}),(0,i.jsx)("div",{className:"font-medium",children:(0,l.RS)(_,f)})]}),f>0&&!j&&(0,i.jsx)("div",{className:"font-medium",children:(0,l.g0)(u,_,f)})]})}},57413:function(e,s,t){"use strict";t.d(s,{Z:function(){return p}});var i=t(85893),o=t(23114),n=t(66627),a=t.n(n),l=t(26013),r=(t(67294),t(31797)),d=t(1189),c=t.n(d);function m(e){let{isSharedPost:s,className:t}=e;return(0,i.jsxs)("div",{className:(0,o.Z)(c().skeleton_post,t),children:[(0,i.jsxs)("div",{className:c().postHeader,children:[(0,i.jsx)("div",{className:(0,o.Z)(c().avatar,c().skeleton_animation)}),(0,i.jsxs)("div",{className:(0,o.Z)(c().ownerInfos),children:[(0,i.jsx)("p",{className:(0,o.Z)(c().name,c().skeleton_animation)}),(0,i.jsx)("p",{className:(0,o.Z)(c().time,c().skeleton_animation)})]})]}),(0,i.jsxs)("div",{className:c().postContent,children:[(0,i.jsx)("div",{className:(0,o.Z)(c().postText1,c().skeleton_animation)}),(0,i.jsx)("div",{className:(0,o.Z)(c().postText2,c().skeleton_animation)}),(0,i.jsx)("div",{className:(0,o.Z)(c().postImg,c().skeleton_animation)})]}),s&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:c().postActions,children:[(0,i.jsx)("div",{className:(0,o.Z)(c().actionBtn,c().skeleton_animation)}),(0,i.jsx)("div",{className:(0,o.Z)(c().actionBtn,c().skeleton_animation)}),(0,i.jsx)("div",{className:(0,o.Z)(c().actionBtn,c().skeleton_animation)})]}),(0,i.jsxs)("div",{className:c().postFooter,children:[(0,i.jsx)("div",{className:(0,o.Z)(c().avatar,c().skeleton_animation)}),(0,i.jsx)("div",{className:(0,o.Z)(c().editor,c().skeleton_animation)})]})]})]})}var u=t(67844),v=t(57023);var p=e=>{let{sharedPost:s,isMobileLayout:t,hidePrivacyIcon:n,hideHeader:d,showSmallThumb:c}=e;if(void 0===s)return(0,i.jsx)("div",{className:"p-5",children:(0,i.jsx)(m,{})});const p=(0,u.z_)(s);if(null===s||!p)return(0,i.jsx)(r.Z,{className:"m-4 p-8 border border-gjw-border"});const h=(0,u.Ei)(null===s||void 0===s?void 0:s.owner_id);return(0,i.jsx)("div",{className:(0,o.Z)("share-post-preview post-body gjwContent",t?"pb-2 px-4":"px-4"),children:(0,i.jsxs)("div",{className:(0,o.Z)(a().shared_post_wrapper,a()[p],p,"shared_post_wrapper"),children:[!d&&(0,i.jsx)(l.m,{post:s,hidePrivacyIcon:n,isArchived:h}),(0,i.jsx)(v.Z,{content:s,postType:p,isMobileLayout:t,showSmallThumb:c})]})})}},64781:function(e,s,t){"use strict";t.d(s,{k:function(){return o}});var i=t(27503);const o=e=>{(0,i.jm)(),e&&e()}},6534:function(e,s,t){"use strict";t.r(s);var i=t(85893),o=t(67294),n=t(23114),a=t(5152);const l=t.n(a)()((()=>t.e(51213).then(t.bind(t,51213)).then((e=>e.default))),{loadableGenerated:{webpack:()=>[51213]}}),r=e=>{let{className:s}=e;return(0,i.jsx)(l,{className:(0,n.Z)("svgIcon",s)})};s.default=(0,o.memo)(r)},61600:function(e,s,t){"use strict";t.r(s);var i=t(85893),o=t(67294),n=t(23114),a=t(5152);const l=t.n(a)()((()=>t.e(30254).then(t.bind(t,30254)).then((e=>e.default))),{loadableGenerated:{webpack:()=>[30254]}}),r=e=>{let{className:s}=e;return(0,i.jsx)(l,{className:(0,n.Z)("svgIcon",s)})};s.default=(0,o.memo)(r)},99195:function(e,s,t){"use strict";t.r(s);var i=t(85893),o=t(67294),n=t(23114),a=t(5152);const l=t.n(a)()((()=>t.e(15923).then(t.bind(t,15923)).then((e=>e.default))),{loadableGenerated:{webpack:()=>[15923]}}),r=e=>{let{className:s}=e;return(0,i.jsx)(l,{className:(0,n.Z)("svgIcon",s)})};s.default=(0,o.memo)(r)},90562:function(e,s,t){"use strict";t.r(s);var i=t(85893),o=t(67294),n=t(23114),a=t(5152);const l=t.n(a)()((()=>t.e(86572).then(t.bind(t,86572)).then((e=>e.default))),{loadableGenerated:{webpack:()=>[86572]}}),r=e=>{let{className:s}=e;return(0,i.jsx)(l,{className:(0,n.Z)("svgIcon",s)})};s.default=(0,o.memo)(r)},4904:function(e){e.exports={floatEditor:"CommentEditorMobile_floatEditor__cEWCL",mobiEditor:"CommentEditorMobile_mobiEditor__WuljJ",editorWrap:"CommentEditorMobile_editorWrap__mt39b",inputWrap:"CommentEditorMobile_inputWrap__mt9LI",input:"CommentEditorMobile_input__OxRI7",replyTo:"CommentEditorMobile_replyTo__Sw9pf",username:"CommentEditorMobile_username__2luiw",cancelBtn:"CommentEditorMobile_cancelBtn__khxs8",cmtEditor:"CommentEditorMobile_cmtEditor__Wa7mY",controlWrap:"CommentEditorMobile_controlWrap__lN0to",controlBtn:"CommentEditorMobile_controlBtn___bJ9l",sendBtn:"CommentEditorMobile_sendBtn__j7fAn",charLimit:"CommentEditorMobile_charLimit__GYHjl"}},69729:function(e){e.exports={commentList:"PostPopularComments_commentList__ct30U",viewMore:"PostPopularComments_viewMore__uJg9q",comment:"PostPopularComments_comment__N5XO0",cmtContent:"PostPopularComments_cmtContent__htV8p"}}}]);